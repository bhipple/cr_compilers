2,326c2,65
< TYPEID Foo
< INHERITS
< TYPEID Bazz
< '{'
< OBJECTID a
< ':'
< TYPEID Razz
< ASSIGN
< CASE
< OBJECTID self
< OF
< OBJECTID n
< ':'
< TYPEID Razz
< DARROW
< '('
< NEW
< TYPEID Bar
< ')'
< ';'
< OBJECTID n
< ':'
< TYPEID Foo
< DARROW
< '('
< NEW
< TYPEID Razz
< ')'
< ';'
< OBJECTID n
< ':'
< TYPEID Bar
< DARROW
< OBJECTID n
< ';'
< ESAC
< ';'
< OBJECTID b
< ':'
< TYPEID Int
< ASSIGN
< OBJECTID a
< '.'
< OBJECTID doh
< '('
< ')'
< '+'
< OBJECTID g
< '.'
< OBJECTID doh
< '('
< ')'
< '+'
< OBJECTID doh
< '('
< ')'
< '+'
< OBJECTID printh
< '('
< ')'
< ';'
< OBJECTID doh
< '('
< ')'
< ':'
< TYPEID Int
< '{'
< '('
< LET
< OBJECTID i
< ':'
< TYPEID Int
< ASSIGN
< OBJECTID h
< IN
< '{'
< OBJECTID h
< ASSIGN
< OBJECTID h
< '+'
< INT_CONST 2
< ';'
< OBJECTID i
< ';'
< '}'
< ')'
< '}'
< ';'
< '}'
< ';'
< CLASS
< TYPEID Bar
< INHERITS
< TYPEID Razz
< '{'
< OBJECTID c
< ':'
< TYPEID Int
< ASSIGN
< OBJECTID doh
< '('
< ')'
< ';'
< OBJECTID d
< ':'
< TYPEID Object
< ASSIGN
< OBJECTID printh
< '('
< ')'
< ';'
< '}'
< ';'
< CLASS
< TYPEID Razz
< INHERITS
< TYPEID Foo
< '{'
< OBJECTID e
< ':'
< TYPEID Bar
< ASSIGN
< CASE
< OBJECTID self
< OF
< OBJECTID n
< ':'
< TYPEID Razz
< DARROW
< '('
< NEW
< TYPEID Bar
< ')'
< ';'
< OBJECTID n
< ':'
< TYPEID Bar
< DARROW
< OBJECTID n
< ';'
< ESAC
< ';'
< OBJECTID f
< ':'
< TYPEID Int
< ASSIGN
< OBJECTID a
< '@'
< TYPEID Bazz
< '.'
< OBJECTID doh
< '('
< ')'
< '+'
< OBJECTID g
< '.'
< OBJECTID doh
< '('
< ')'
< '+'
< OBJECTID e
< '.'
< OBJECTID doh
< '('
< ')'
< '+'
< OBJECTID doh
< '('
< ')'
< '+'
< OBJECTID printh
< '('
< ')'
< ';'
< '}'
< ';'
< CLASS
< TYPEID Bazz
< INHERITS
< TYPEID IO
< '{'
< OBJECTID h
< ':'
< TYPEID Int
< ASSIGN
< INT_CONST 1
< ';'
< OBJECTID g
< ':'
< TYPEID Foo
< ASSIGN
< CASE
< OBJECTID self
< OF
< OBJECTID n
< ':'
< TYPEID Bazz
< DARROW
< '('
< NEW
< TYPEID Foo
< ')'
< ';'
< OBJECTID n
< ':'
< TYPEID Razz
< DARROW
< '('
< NEW
< TYPEID Bar
< ')'
< ';'
< OBJECTID n
< ':'
< TYPEID Foo
< DARROW
< '('
< NEW
< TYPEID Razz
< ')'
< ';'
< OBJECTID n
< ':'
< TYPEID Bar
< DARROW
< OBJECTID n
< ';'
< ESAC
< ';'
< OBJECTID i
< ':'
< TYPEID Object
< ASSIGN
< OBJECTID printh
< '('
< ')'
< ';'
< OBJECTID printh
< '('
< ')'
< ':'
< TYPEID Int
< '{'
< '{'
< OBJECTID out_int
< '('
< OBJECTID h
< ')'
< ';'
< INT_CONST 0
< ';'
< '}'
< '}'
< ';'
< OBJECTID doh
< '('
< ')'
< ':'
< TYPEID Int
< '{'
< '('
< LET
< OBJECTID i
< ':'
< TYPEID Int
< ASSIGN
< OBJECTID h
< IN
< '{'
< OBJECTID h
< ASSIGN
< OBJECTID h
< '+'
< INT_CONST 1
< ';'
< OBJECTID i
< ';'
< '}'
< ')'
< '}'
< ';'
< '}'
< ';'
< CLASS
< TYPEID Main
< '{'
< OBJECTID a
< ':'
< TYPEID Bazz
< ASSIGN
< NEW
< TYPEID Bazz
< ';'
< OBJECTID b
< ':'
< TYPEID Foo
< ASSIGN
< NEW
< TYPEID Foo
< ';'
< OBJECTID c
< ':'
< TYPEID Razz
< ASSIGN
< NEW
< TYPEID Razz
< ';'
< OBJECTID d
< ':'
< TYPEID Bar
< ASSIGN
< NEW
< TYPEID Bar
< ';'
< OBJECTID main
< '('
< ')'
< ':'
< TYPEID String
< '{'
< STR_CONST "do nothing"
< '}'
< ';'
< '}'
< ';'
---
> Foo#3 INHERITS
> Bazz{a:Razz<-#4 CASE
> self#4 OF
> n:Razz#5 DARROW
> (#5 NEW
> Bar);n:Foo#6 DARROW
> (#6 NEW
> Razz);n:Bar#7 DARROW
> n;#8 ESAC
> ;b:#10 IN
> t<-a.doh()+g.doh()+doh()+pr#10 IN
> th();doh():#12 IN
> t{(#12 LET
> i:#12 IN
> t<-h#12 IN
> {h<-h+#12 INT_CONST 2
> ;i;})};};#16 CLASS
> Bar#16 INHERITS
> Razz{c:#18 IN
> t<-doh();d:Object<-pr#20 IN
> th();};#24 CLASS
> Razz#24 INHERITS
> Foo{e:Bar<-#26 CASE
> self#26 OF
> n:Razz#27 DARROW
> (#27 NEW
> Bar);n:Bar#28 DARROW
> n;#29 ESAC
> ;f:#31 IN
> t<-a@Bazz.doh()+g.doh()+e.doh()+doh()+pr#31 IN
> th();};#35 CLASS
> Bazz#35 INHERITS
> IO{h:#37 IN
> t<-#37 INT_CONST 1
> ;g:Foo<-#39 CASE
> self#39 OF
> n:Bazz#40 DARROW
> (#40 NEW
> Foo);n:Razz#41 DARROW
> (#41 NEW
> Bar);n:Foo#42 DARROW
> (#42 NEW
> Razz);n:Bar#43 DARROW
> n;#44 ESAC
> ;i:Object<-pr#46 IN
> th();pr#48 IN
> th():#48 IN
> t{{out_#48 IN
> t(h);#48 INT_CONST 0
> ;}};doh():#50 IN
> t{(#50 LET
> i:#50 IN
> t<-h#50 IN
> {h<-h+#50 INT_CONST 1
> ;i;})};};#54 CLASS
> Ma#54 IN
> {a:Bazz<-#55 NEW
> Bazz;b:Foo<-#56 NEW
> Foo;c:Razz<-#57 NEW
> Razz;d:Bar<-#58 NEW
> Bar;ma#60 IN
> ():Str#60 IN
> g{#60 STR_CONST "do nothing"
> };};
\ No newline at end of file
